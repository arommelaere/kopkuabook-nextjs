generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model users {
  uuid       Int          @id @default(autoincrement()) @db.UnsignedInt
  email      String       @unique(map: "email")
  name       String?
  password   String?      @db.VarChar(255)
  created_at DateTime     @default(now()) @db.DateTime(0)
  updated_at DateTime     @default(now()) @db.DateTime(0)
  workspaces workspaces[]
}

model workspaces {
  uuid        Int      @id @default(autoincrement()) @db.UnsignedInt
  user_uuid   Int      @db.UnsignedInt
  title       String
  description String?  @db.Text
  created_at  DateTime @default(now()) @db.DateTime(0)
  updated_at  DateTime @default(now()) @db.DateTime(0)
  users       users    @relation(fields: [user_uuid], references: [uuid], onDelete: Cascade, map: "fk_posts_user")

  @@index([user_uuid], map: "idx_workspaces_user_uuid")
}
